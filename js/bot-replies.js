// –°–ª–æ–≤–Ω–∏–∫ –∫–ª—é—á–æ–≤–∏—Ö —Å–ª—ñ–≤ —ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –¥–ª—è –±–æ—Ç–∞
const BOT_KB = [
  // –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞–ø–∏—Å–∞–≤ —â–æ—Å—å —Ç–∏–ø—É "–ø—Ä–∏–≤—ñ—Ç"
  { key: /–ø—Ä–∏–≤/i, reply: '–ü—Ä–∏–≤—ñ—Ç! –Ø–∫ —è –º–æ–∂—É –¥–æ–ø–æ–º–æ–≥—Ç–∏?' },

  // –Ø–∫—â–æ –∑–≥–∞–¥–∞–Ω–æ "—á–∞—Å" –∞–±–æ "–≥–æ–¥–∏–Ω–∞" ‚Äî –±–æ—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –ø–æ—Ç–æ—á–Ω–∏–º —á–∞—Å–æ–º
  { key: /—á–∞—Å|–≥–æ–¥–∏–Ω/i, reply: () => 
    `–ó–∞—Ä–∞–∑ ${new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}.` 
  },

  // –Ø–∫—â–æ –∑–≥–∞–¥–∞–Ω–æ "—Ç–µ–º–∞" –∞–±–æ "theme" ‚Äî –±–æ—Ç –ø—ñ–¥–∫–∞–∑—É—î –ø—Ä–æ –ø–µ—Ä–µ–º–∏–∫–∞—á —Ç–µ–º–∏
  { key: /—Ç–µ–º–∞|theme/i, reply: '–ú–æ–∂–µ—à –ø–µ—Ä–µ–º–∫–Ω—É—Ç–∏ —Ç–µ–º—É –∫–Ω–æ–ø–∫–æ—é üåì —É –∑–∞–≥–æ–ª–æ–≤–∫—É.' },

  // –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø—Ä–æ—Å–∏—Ç—å –¥–æ–ø–æ–º–æ–≥—É ‚Äî help, –¥–æ–≤—ñ–¥–∫–∞, –¥–æ–ø–æ–º–æ–≥–∞
  { key: /help|–¥–æ–≤—ñ–¥–∫–∞|–ø–æ–º/i, reply: '–ü—ñ–¥–∫–∞–∂–∏ –∫–ª—é—á–æ–≤—ñ —Å–ª–æ–≤–∞ ‚Äî —Å–ø—Ä–æ–±—É—é –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏. –ù–∞–ø—Ä., ‚Äú—á–∞—Å‚Äù, ‚Äú—Ç–µ–º–∞‚Äù.' },

  // –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–æ–¥—è–∫—É–≤–∞–≤
  { key: /–¥—è–∫—É/i, reply: '–ó–∞–≤–∂–¥–∏ —Ä–∞–¥–∏–π –¥–æ–ø–æ–º–æ–≥—Ç–∏!' },

  // –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø—Ä–æ—â–∞—î—Ç—å—Å—è
  { key: /–ø–æ–∫–∞|–±—É–≤–∞–π|–¥–æ –∑—É—Å—Ç—Ä/i, reply: '–ë—É–≤–∞–π! –ì–∞—Ä–Ω–æ–≥–æ –¥–Ω—è ‚òÄÔ∏è' },
];


// –§—É–Ω–∫—Ü—ñ—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –±–æ—Ç–∞
function generateBotReply(userText) {
  const text = (userText || '').toLowerCase(); // –Ω–æ—Ä–º–∞–ª—ñ–∑—É—î–º–æ —Ç–µ–∫—Å—Ç: –Ω–∏–∂–Ω—ñ–π —Ä–µ–≥—ñ—Å—Ç—Ä

  // –ü–µ—Ä–µ–±–∏—Ä–∞—î–º–æ –≤—Å—ñ –ø—Ä–∞–≤–∏–ª–∞ –∑ BOT_KB
  for (const rule of BOT_KB) {
    if (rule.key.test(text)) { // —è–∫—â–æ –∫–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ –∑–Ω–∞–π–¥–µ–Ω–æ
      // –Ø–∫—â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å ‚Äî —Ñ—É–Ω–∫—Ü—ñ—è, –≤–∏–∫–ª–∏–∫–∞—î–º–æ —ó—ó; —ñ–Ω–∞–∫—à–µ –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ —Ç–µ–∫—Å—Ç
      return typeof rule.reply === 'function' ? rule.reply(userText) : rule.reply;
    }
  }

  // –Ø–∫—â–æ –Ω—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ ‚Äî –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∑ –µ—Ö–æ
  return `–¢–∏ –Ω–∞–ø–∏—Å–∞–≤: ‚Äú${userText}‚Äù. –ó–≤—É—á–∏—Ç—å —Ü—ñ–∫–∞–≤–æ!`;
}
